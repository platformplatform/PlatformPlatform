---
description: Workflow for commit changes with proper validation and message format
globs: 
alwaysApply: false
---
# Commit Changes Workflow

Changes description: $ARGUMENTS

Use the description provided in the arguments above (if any) to understand what changes were made. This workflow will help you commit changes to the repository with proper validation and message format.

## Workflow for Reviewers

**Note**: This workflow is for reviewers who have already validated changes through their review process.

### Critical File Scope Verification

**Before committing**, verify you are only committing files within your scope:

**Backend reviewers** may ONLY commit:
- `.cs` files (C#/.NET code)
- `.csproj` files (project files)
- `.sln` files (solution files)
- Database migration files
- `application/{self-contained-system}/WebApp/shared/lib/api/*.Api.json` (auto-generated API files)

**Frontend reviewers** may ONLY commit:
- `.ts`, `.tsx` files (TypeScript/React)
- `.css` files (styles)
- `.json` files (except `*.Api.json` which belongs to backend)
- `.po`, `.pot` files (translations)
- Frontend configuration files (`package.json`, `tsconfig.json`, `vite.config.ts`, etc.)

**REJECT the commit immediately if**:
- Backend reviewer finds `.ts`/`.tsx` files in staged changes
- Frontend reviewer finds `.cs` files in staged changes
- Frontend reviewer finds `*.Api.json` files in staged changes

Use `git status --porcelain` to verify file scope before proceeding.

### Commit Message Format

1. Create a proper commit message following these format rules:
   - Use imperative form (e.g., "Add feature" not "Added feature" or "Adds feature").
   - Start with a capital letter (sentence case).
   - Do not end the message with punctuation.
   - Keep the message to a single line.
   - Describe what is changed and the motivation, but keep it concise.

2. Stage all changes and commit:
   ```bash
   git add -A
   git commit -m "Your commit message here"
   ```

## Examples

### Example 1 - Commit message format

```
# ✅ DO: Use imperative form, start with capital letter, no punctuation
Enable auto-configuration for data protection in Azure Container Apps
Update all UI texts to consistently use sentence case instead of title case
Upgrade Entity Framework from 8.x to 9.x
Add spacing between top menu buttons to prevent border cropping
Update Azure location codes to use country-specific identifiers
Make logout redirect consistent across all pages

# ❌ DON'T: Use past tense, lowercase, punctuation, or prefixes
Upgraded Entity Framework from 8.x to 9.x
Add spacing between top menu buttons to prevent border cropping.
Making redirect consistent across all pages
update Azure location codes to use country-specific identifiers
feat: enable auto-configuration for data protection in Azure Container Apps
```

### Example 2 - Commit workflow

```bash
# ✅ DO: Review changes before committing
# Step 1: Review staged changes
git --no-pager diff --staged

# Step 2: Check if there are unstaged changes you want to include
git --no-pager diff

# Step 3: Add all changes if needed
git add -A

# Step 4: Commit with a proper message
git commit -m "Add user profile image upload functionality"

# ❌ DON'T: Commit without reviewing changes
git add .
git commit -m "Fix stuff"
```
